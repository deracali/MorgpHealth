

<!DOCTYPE html>

<html
  lang="en"
  class="light-style layout-menu-fixed"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="../assets/"
  data-template="vertical-menu-template-free"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>Dashboard - Analytics | MorgpHealth</title>

    <meta name="description" content="" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../assets/morgp-logo.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Icons. Uncomment required icon fonts -->
    <link rel="stylesheet" href="../assets/vendor/fonts/boxicons.css" />

    <!-- Core CSS -->
    <link rel="stylesheet" href="../assets/vendor/css/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="../assets/vendor/css/theme-default.css" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="../assets/css/demo.css" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />

    <link rel="stylesheet" href="../assets/vendor/libs/apex-charts/apex-charts.css" />


    <script>
      // Redirect to index.html if no token is found
      if (!localStorage.getItem('userId')) {
        window.location.href = '../index.html';
      }
    </script>
    <!-- Page CSS -->

    <!-- Helpers -->
    <script src="../assets/vendor/js/helpers.js"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="../assets/js/config.js"></script>
  </head>
 <style>
     body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
        }
        .header {
            text-align: center;
            font-weight: bold;
        }
        .info-table, .appointments-table, .lab-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .info-table td, .appointments-table td, .appointments-table th, .lab-table td, .lab-table th {
            border: 1px solid black;
            padding: 8px;
        }
        .section-title {
            font-weight: bold;
            margin-top: 30px;
        }





.container {
    width: 80%;
    max-width: 1200px;
    margin: 30px auto;
    padding: 20px;
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
/* Container for scrollable table */
.table-container {
    max-height: 400px; /* Adjust the height based on your preference */
    overflow-y: auto;  /* Enables vertical scrolling */
    display: block;    /* Allows table to scroll */
}

/* Table basic styles */
table {
    width: 100%;       /* Makes sure the table spans the full width of the container */
    border-collapse: collapse; /* Removes spaces between borders */
}

/* Table headers and cells */
th, td {
    padding: 8px;       /* Padding for better readability */
    text-align: left;   /* Aligns text to the left */
    border: 1px solid #ddd; /* Adds borders to the cells */
}

/* Sticky header */
thead {
    position: sticky;
    top: 0;
    background-color: #fff;
    z-index: 1;
}

/* For screens less than 500px */
@media (max-width: 500px) {
    /* Adjust table container for small screens */
    .table-container {
        max-height: 300px;  /* Adjust the max-height for smaller screens */
        overflow-y: auto;
    }

    /* Make table scrollable horizontally */
    table {
        width: 100%;
        table-layout: auto; /* Ensures that the columns resize */
        overflow-x: auto;   /* Enables horizontal scrolling if needed */
        display: block;
    }
}

h2 {
    text-align: center;
    color: #4A90E2;
    font-size: 24px;
    margin-bottom: 20px;
}

label {
    font-size: 14px;
    margin-right: 10px;
}

input[type="date"] {
    padding: 8px;
    margin-right: 20px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

button {
    padding: 10px 20px;
    background-color: #4A90E2;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
}

button:hover {
    background-color: #357ABD;
}

.section {
    margin: 20px 0;
}

.section strong {
    font-size: 16px;
    color: #333;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    margin-bottom: 15px;
}

table th,
table td {
    padding: 10px;
    text-align: left;
    border: 1px solid #ddd;
}

table th {
    background-color: #f0f0f0;
    font-weight: bold;
}

#chargeDisplay,
#totalCharge {
    font-size: 18px;
    color: #4A90E2;
    font-weight: bold;
}

.error {
    color: red;
    padding: 10px;
    border: 1px solid red;
    background-color: #f9d6d5;
    border-radius: 4px;
}

.section button {
    margin-top: 20px;
} 
</style>
  <body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->

        <aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
          <div class="app-brand demo">
            <a href="dashboard.html" class="app-brand-link">
              <span class="app-brand-logo demo">
                <img style="width: 50%;" src="../assets/morgp-logo.png" alt="logo"/>
              </span>
            
            </a>

            <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
              <i class="bx bx-chevron-left bx-sm align-middle"></i>
            </a>
          </div>

          <div class="menu-inner-shadow"></div>

          <ul class="menu-inner py-1">
            <!-- Dashboard -->
            <li class="menu-item active">
              <a href="dashboard.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-home-circle"></i>
                <div data-i18n="Analytics">Dashboard</div>
              </a>
            </li>

          

            <li class="menu-header small text-uppercase">
              <span class="menu-header-text">Pages</span>
            </li>
            <li class="menu-item"  id="bookMenuItem">
              <a href="booking.html" class="menu-link" id="bookLink">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Book</div>
              </a>
            </li>
            <li class="menu-item">
              <a href="appointments.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Appointments</div>
              </a>
            </li>
            <!-- <li class="menu-item">
              <a href="appointmentsactions.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Appointments Actions</div>
              </a>
            </li>
           -->
            <li class="menu-item">
              <a href="javascript:void(0);" class="menu-link menu-toggle">
                <i class="menu-icon tf-icons bx bx-dock-top"></i>
                <div data-i18n="Account Settings">Account Settings</div>
              </a>
              <ul class="menu-sub">
                <li class="menu-item">
                  <a href="pages-account-settings-account.html" class="menu-link">
                    <div data-i18n="Account">Account</div>
                  </a>
                </li>
                <li class="menu-item">
                  <a href="pages-account-settings-notifications.html" class="menu-link">
                    <div data-i18n="Notifications">Notifications</div>
                  </a>
                </li>
               
              </ul>
            </li>
       
          
          
            <li class="menu-item" id="insurance-menu">
              <a href="insurance.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Insurance</div>
              </a>
            </li>


            <li class="menu-item">
              <a href="paitenthistory.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Patient History</div>
              </a>
            </li>
          
          
         
            <li class="menu-item">
              <a href="join.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Video call appointment</div>
              </a>
            </li>
            <li class="menu-item">
              <a href="phone.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Phone appointment</div>
              </a>
            </li>
         
          
            <li class="menu-item">
              <a href="prescription.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Prescription</div>
              </a>
            </li>
          
            <li class="menu-item">
              <a href="medicals.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Lab Report</div>
              </a>
            </li>
          
            <li class="menu-item">
              <a href="requestmed.html" class="menu-link">
                <i class="menu-icon tf-icons bx bx-table"></i>
                <div data-i18n="Analytics">Request Medicals</div>
              </a>
            </li>

          
         
        
          
          </ul>
        </aside>
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

          <nav
            class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"
            id="layout-navbar"
          >
          
            <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
              <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
                <i class="bx bx-menu bx-sm"></i>
              </a>
            </div>

            <div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse">
             
          

              <ul class="navbar-nav flex-row align-items-center ms-auto">
                <!-- Place this tag where you want the button to render. -->
                <li style="display: flex;" class="nav-item lh-1 me-3">
                  <p style="margin-right: 10px;" id="userId"></p>
                  <p  class="github-button" id="insurance-status"></p>
                </li>
                <!-- User -->
                <li class="nav-item navbar-dropdown dropdown-user dropdown">
                 
                  <a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);" data-bs-toggle="dropdown">
                    <div class="avatar avatar-online">

                        <img
                        src=""
                        alt=""
                        class="w-px-40 rounded-circle"
                      />
                    </div>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end">
                    <li>
                      <a class="dropdown-item" href="#">
                        <div class="d-flex">
                          <div class="flex-shrink-0 me-3">
                           
                          </div>
                          <div class="flex-grow-1">
                            <span class="fw-semibold d-block"></span>
                            <small class="text-muted"></small>
                          </div>
                        </div>
                      </a>
                    </li>
                    <li>
                      <div class="dropdown-divider"></div>
                    </li>
                    <li>
                      <a class="dropdown-item" href="../index.html">
                        <i class="bx bx-user me-2"></i>
                        <span class="align-middle">Login</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="pages-account-settings-account.html">
                        <i class="bx bx-user me-2"></i>
                        <span class="align-middle">My Profile</span>
                      </a>
                    </li>
                  
                   
                    <li>
                      <div class="dropdown-divider"></div>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#" id="logout" onclick="handleLogout()">
                        <i class="bx bx-power-off me-2"></i>
                        <span class="align-middle">Log Out</span>
                      </a>
                    </li>
                    
                  </ul>
                </li>
                <!--/ User -->
              </ul>
            </div>
          </nav>

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->

            <div class="container-xxl flex-grow-1 container-p-y">
             
            
            
             
    <div id="report">
        <div class="header">
            <h2>Medical History Report</h2>
            <p>Telemedicine Clinic Name</p>
            <p>123 Virtual Care Lane, Telehealth City, Digital World</p>
            <p>Phone: +1 (123) 456-7890 | Email: support@teleclinic.com</p>
            <h3>Medical History Report (Last 6 Months)</h3>
        </div>
        
        <div class="section-title">Patient Information</div>
        <table class="info-table">
            <tr><td><b>Full Name</b></td><td id="name">John Doe</td></tr>
            <tr><td><b>Date of Birth</b></td><td id="age">15 March 1985</td></tr>
            <tr><td><b>Gender</b></td><td id="gender">Male</td></tr>
            <tr><td><b>Patient ID</b></td><td id="id">TMC-2025-00123</td></tr>
            <tr><td><b>Email</b></td><td id="email">johndoe@example.com</td></tr>
            <tr><td><b>Phone</b></td><td id="phone">+1 (987) 654-3210</td></tr>
        </table>
        
        <div class="section-title">Encounters with Previous Appointments (Last 6 Months)</div>
        <table class="appointments-table" id="appointmentsTable">
            <tr>
                <th>Date</th>
                <th>Reason for Visit</th>
                <th>Diagnosis</th>
            </tr>
        </table>
    </div>

    <label for="startDate">Start Date:</label>
    <input type="date" id="startDate">
    <label for="endDate">End Date:</label>
    <input type="date" id="endDate">
    <button id="fetchAppointmentsBtn">Fetch Appointments</button>
    <p>Total Charge: <span id="totalCharge">$0</span></p>
    <button id="paymentBtn" style="display:none;">Pay Now</button>
    <div id="errorContainer"></div>
    
              
              
            </div>


            <!-- / Content -->

            <!-- Footer -->
            <footer class="content-footer footer bg-footer-theme">
              <div class="container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
                <div class="mb-2 mb-md-0">
                  Â©
                  <script>
                    document.write(new Date().getFullYear());
                  </script>
                  , Morgphealth
                 
              </div>
            </footer>
            <!-- / Footer -->

            <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>
    </div>
    <!-- / Layout wrapper -->
    <script>
        document.addEventListener('DOMContentLoaded', async function () {
          const userId = localStorage.getItem('userId'); // Get user ID from localStorage

          if (!userId) {
            console.error('User ID not found in localStorage');
            return;
          }

          try {
            // Fetch user details from the API
            const response = await fetch(`https://morgphealth.onrender.com/api/user/get-profileId/${userId}`, {
              method: 'GET',
              headers: {
                'Content-Type': 'application/json',
              },
            });

            const result = await response.json();

            if (response.ok && result.success && result.user) {
              const userName = result.user.name || 'User'; // Fallback to 'User' if name is undefined
              const userImage = result.user.image || '../assets/img/avatars/1.png'; // Fallback to default image
              const insuranceStatus = result.user.insured ? 'Insured' : 'Not Insured'; // Get insurance status

              // Update the card title with the user's name
              const cardTitle = document.querySelector('.card-title.text-primary');
              if (cardTitle) {
                cardTitle.textContent = `Congratulations ${userName}! ðŸŽ‰`;
              }

              // Display insurance status
              const insuranceStatusElement = document.getElementById('insurance-status');
              if (insuranceStatusElement) {
                insuranceStatusElement.textContent = insuranceStatus;
              }

              // Update the avatar image
              const avatarImage = document.querySelector('.avatar img');
              if (avatarImage) {
                avatarImage.src = userImage;
                avatarImage.alt = `${userName}'s Profile Picture`; // Set the alt text dynamically
              }
            } else {
              console.error('Failed to fetch user details:', result.message || 'Unknown error');
            }
          } catch (error) {
            console.error('An error occurred while fetching user details:', error);
          }
        });
      </script>
      


      
 <!-- Stripe key -->
 <div id="stripe-key" data-key="pk_live_51NhtaqEl2XIBlXUMdApQJTYwiewtZS3D9zTBIV4wy7w4yFT4FhGWzfWBtLd01uf3iPnLgO1FkZGOqdtc9zeZNvyJ00Y69ARZ46" style="display: none;"></div>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
 <script src="https://js.stripe.com/v3/"></script>

 <script>
     document.addEventListener("DOMContentLoaded", async function () {
         console.log("Document loaded."); 

         const userId = localStorage.getItem('userId');
         if (!userId) {
             showError("No user ID found in localStorage!");
             return;
         }

         const url = `https://morgphealth.onrender.com/api/user/appointments/${userId}`;
         
             const response = await fetch(url);
             const data = await response.json();
            const appointment = data.appointments[0]

            document.getElementById('name').innerText = appointment.userData.name;
            document.getElementById('email').innerText = appointment.userData.email;
            document.getElementById('phone').innerText = appointment.userData.phone;
            document.getElementById('age').innerText = appointment.userData.age;
            document.getElementById('id').innerText = appointment.userData._id.slice(-6);
            document.getElementById('gender').innerText = appointment.userData.gender;
             console.log(data)

         const currentMonth = new Date().getMonth();
         const currentYear = new Date().getFullYear();
         const startOfMonth = new Date(currentYear, currentMonth, 1);
         const endOfMonth = new Date(currentYear, currentMonth + 1, 0);

         await fetchAppointments(userId, startOfMonth, endOfMonth);

         document.getElementById('fetchAppointmentsBtn').addEventListener('click', function() {
             const startDate = new Date(document.getElementById('startDate').value);
             const endDate = new Date(document.getElementById('endDate').value);

             if (!startDate || !endDate) {
                 showError("Please select both start and end dates.");
                 return;
             }

             const monthsDifference = getMonthsDifference(startDate, endDate);
             const charge = calculateCharge(monthsDifference);
             document.getElementById('totalCharge').innerText = `$${charge}`;
             document.getElementById('paymentBtn').style.display = "inline-block";
             document.getElementById('downloadBtn').style.display = "inline-block";
             fetchAppointments(userId, startDate, endDate);
         });

         // Handle Download PDF
         document.getElementById('downloadBtn').addEventListener('click', function () {
             const element = document.getElementById('report'); // Target the table or the entire div
             
             // Configure the download options
             const options = {
                 filename: 'medical-record-summary.pdf',
                 image: { type: 'jpeg', quality: 0.98 },
                 html2canvas: { scale: 2 },
                 jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
             };
             
             // Trigger PDF download
             html2pdf().from(element).set(options).save();
         });
       
         async function fetchAppointments(userId, startDate, endDate) {
    const url = `https://morgphealth.onrender.com/api/user/appointments/${userId}`;
    try {
        const response = await fetch(url);
        const data = await response.json();

        if (!data || !data.appointments || data.appointments.length === 0) {
            showError("No appointments found.");
            return;
        }

        const filteredAppointments = data.appointments.filter(app => {
            const appointmentDate = new Date(app.createdAt);
            return appointmentDate >= startDate && appointmentDate <= endDate;
        });

        // Store filtered appointments in localStorage
        localStorage.setItem('appointmentData', JSON.stringify(filteredAppointments));

        // Populate Table
        const tableBody = document.getElementById('appointmentsTable');
        tableBody.innerHTML = "";

        filteredAppointments.forEach(app => {
            const row = `
                <tr>
                    <td>${new Date(app.createdAt).toLocaleString()}</td>
                    <td>${app.docData?.name?.split(' ').slice(0, 2).join(' ') || 'Unknown'}</td>
                    <td>${app.description || 'No details'}</td>
                    <td>${app.notes || 'No details'}</td>
                    <td>${app.diagnosis || 'No details'}</td>
                    <td>$${app.amount || 0}</td>
                </tr>
            `;
            tableBody.innerHTML += row;
        });
    } catch (error) {
        console.error("Error fetching appointments:", error);
        showError(`Error fetching appointments: ${error.message}`);
    }
}

     
         document.getElementById('paymentBtn').addEventListener('click', async function () {
            
             const stripePublicKey = document.getElementById('stripe-key').getAttribute('data-key');
  
             const response = await fetch('https://morgphealth.onrender.com/create-intentsss', {
     method: 'POST',
     headers: { 'Content-Type': 'application/json' },
     body: JSON.stringify({
         amount: parseFloat(document.getElementById('totalCharge').innerText.slice(1)), // Get the total amount (without $)
         userEmail: data.appointments.userData.userEmail,
     })
 });
 const { id } = await response.json();
            // Redirect the user to Stripe Checkout
 const stripe = await loadStripe(stripePublicKey);
 const { error } = await stripe.redirectToCheckout({ sessionId: id });

 if (error) {
     console.error("Error redirecting to Checkout:", error.message);
 }
         });
     });

     function showError(message) {
         const errorContainer = document.getElementById("errorContainer");
         errorContainer.innerHTML = `<p class="error">${message}</p>`;
     }

     function getMonthsDifference(startDate, endDate) {
         const startMonth = startDate.getFullYear() * 12 + startDate.getMonth();
         const endMonth = endDate.getFullYear() * 12 + endDate.getMonth();
         return Math.floor((endMonth - startMonth));
     }

     function calculateCharge(months) {
         const chargePerMonth = 20;
         return chargePerMonth * months;
     }

     async function loadStripe(publicKey) {
         if (!window.Stripe) {
             throw new Error("Stripe.js not loaded");
         }
         return window.Stripe(publicKey);
     }
 </script>
    
    <script>
      // Get the 'insured' value from localStorage
      const insured = localStorage.getItem('insured');
    
      // Check if insured is 'false' and hide the menu item if so
      if (insured === 'false') {
        const insuranceMenu = document.getElementById('insurance-menu');
        insuranceMenu.style.display = 'none';
      }
    </script>
   
    
    <script>
      // Retrieve the userId from localStorage
      const fullUserId = localStorage.getItem('userId'); // Make sure 'userId' exists in localStorage
      
      if (fullUserId) {
        // Slice it to the first 6 digits
        const slicedUserId = fullUserId.slice(0, 6);
        
        // Inject it into the <p> tag
        document.getElementById('userId').textContent = `E ID: ${slicedUserId}`;
      } else {
        // Handle case where userId doesn't exist
        document.getElementById('userId').textContent = 'E ID: Not Available';
      }
    </script>
    

  


      


<script>
  function handleLogout() {
    // Remove items from localStorage
    localStorage.removeItem('timer');
    localStorage.removeItem('userId');
    localStorage.removeItem('authToken');

    // Redirect to login page or perform other actions
    window.location.href = '../index.html'; // Update the URL to your login page
  }

</script>
    <!-- build:js assets/vendor/js/core.js -->
    <script src="../assets/vendor/libs/jquery/jquery.js"></script>
    <script src="../assets/vendor/libs/popper/popper.js"></script>
    <script src="../assets/vendor/js/bootstrap.js"></script>
    <script src="../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>

    <script src="../assets/vendor/js/menu.js"></script>
    <!-- endbuild -->

    <!-- Vendors JS -->
    <script src="../assets/vendor/libs/apex-charts/apexcharts.js"></script>

    <!-- Main JS -->
    <script src="../assets/js/main.js"></script>

    <!-- Page JS -->
    <script src="../assets/js/dashboards-analytics.js"></script>

    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
  </body>
</html>


<!-- <div class="container">
  <h2>Medical Record Summary</h2>

  <div>
      <label for="startDate">Start Date:</label>
      <input type="date" id="startDate">
      <label for="endDate">End Date:</label>
      <input type="date" id="endDate">
      <button id="fetchAppointmentsBtn">Fetch Appointments</button>
  </div>


  <div id="chargeDisplay"></div>

  <div id="errorContainer"></div>

  <div class="section">
      <strong>Chronological Medical Records Summary</strong>
      <table>
          <thead>
              <tr>
                  <th>Date and Time</th>
                  <th>Doctor</th>
                  <th>Encounter Summary</th>
                  <th>Amount Paid</th>
              </tr>
          </thead>
          <tbody id="appointmentsTable">
              <tr>
                  <td colspan="4">No records found</td>
              </tr>
          </tbody>
      </table>
  </div>

  <div class="section">
      <strong>Total Charge:</strong> <span id="totalCharge">$0</span>
  </div>

 
  <div class="section">
      <button id="paymentBtn" style="display:none;">Proceed to Payment</button>
  </div>


  <div class="section">
      <button id="downloadBtn" style="display:none;">Download as PDF</button>
  </div>
</div> -->